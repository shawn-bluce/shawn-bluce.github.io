<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>æ­£ç¡®æ„å»º Docker é•œåƒ - Shawn's blog</title><meta name=Description content="åˆ†äº«æˆ‘çš„çŸ¥è¯†ã€ç»éªŒã€ç”Ÿæ´»ä¸æ„Ÿæ‚Ÿ"><meta property="og:url" content="https://blog.programmer.work/posts/build-docker-image/"><meta property="og:site_name" content="Shawn's blog"><meta property="og:title" content="æ­£ç¡®æ„å»º Docker é•œåƒ"><meta property="og:description" content="0X00 æœ€å¸¸è§çš„ä¸¤ç§æ„å»ºæ–¹å¼ æ„å»ºDockeré•œåƒçš„æ–¹å¼å¹¶ä¸å¤šï¼Œæœ€å¸¸ç”¨çš„ä¹Ÿå°±åªæœ‰ï¼šç¼–å†™Dockerfileå’Œä½¿ç”¨docker commitè¿™ä¸¤ç§ã€‚æ—¢ç„¶æ–¹å¼åˆ†ä¸ºä¸¤ç§é‚£ä¹ˆè‚¯å®šæ˜¯æœ‰åŒºåˆ«çš„ï¼ˆåºŸè¯ï¼‰ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹å§ã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-17T13:59:00+00:00"><meta property="article:modified_time" content="2025-01-16T08:33:16+00:00"><meta property="article:tag" content="Docker"><meta property="og:image" content="https://blog.programmer.work/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.programmer.work/logo.png"><meta name=twitter:title content="æ­£ç¡®æ„å»º Docker é•œåƒ"><meta name=twitter:description content="0X00 æœ€å¸¸è§çš„ä¸¤ç§æ„å»ºæ–¹å¼ æ„å»ºDockeré•œåƒçš„æ–¹å¼å¹¶ä¸å¤šï¼Œæœ€å¸¸ç”¨çš„ä¹Ÿå°±åªæœ‰ï¼šç¼–å†™Dockerfileå’Œä½¿ç”¨docker commitè¿™ä¸¤ç§ã€‚æ—¢ç„¶æ–¹å¼åˆ†ä¸ºä¸¤ç§é‚£ä¹ˆè‚¯å®šæ˜¯æœ‰åŒºåˆ«çš„ï¼ˆåºŸè¯ï¼‰ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹å§ã€‚"><meta name=application-name content="Shawn's blog"><meta name=apple-mobile-web-app-title content="Shawn's blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.programmer.work/posts/build-docker-image/><link rel=prev href=https://blog.programmer.work/posts/database-index-simple/><link rel=next href=https://blog.programmer.work/posts/easy-redis/><link rel=stylesheet href=/css/style.min.658eb25b73ad29ab864a36ed014516c5047802d1ff98d0080132d1abe1332f5b.css integrity="sha256-ZY6yW3OtKauGSjbtAUUWxQR4AtH/mNAIATLRq+EzL1s="><link rel=preload href=/lib/fontawesome-free/all.min.0df5a33710e433de1f5415b1d47e4130ca7466aee5b81955f1045c4844bbb3ed.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.0df5a33710e433de1f5415b1d47e4130ca7466aee5b81955f1045c4844bbb3ed.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0="></noscript><link rel=preload href=/lib/animate/animate.min.5fbaeb9f8e25d7e0143bae61d4b1802c16ce7390b96ceb2d498b0d96ff4c853f.css integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8=" as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.5fbaeb9f8e25d7e0143bae61d4b1802c16ce7390b96ceb2d498b0d96ff4c853f.css integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8="></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"æ­£ç¡®æ„å»º Docker é•œåƒ","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.programmer.work\/posts\/build-docker-image\/"},"genre":"posts","keywords":"Docker","wordcount":2314,"url":"https:\/\/blog.programmer.work\/posts\/build-docker-image\/","datePublished":"2019-09-17T13:59:00+00:00","dateModified":"2025-01-16T08:33:16+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Shawn"},"description":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Shawn's blog">Shawn's blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/about/>å…³äº </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shawn's blog">Shawn's blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/about/ title>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">æ­£ç¡®æ„å»º Docker é•œåƒ</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://blog.programmer.work title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Shawn</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2019-09-17>2019-09-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;çº¦ 2314 å­—&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;é¢„è®¡é˜…è¯» 5 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#docker-hub>docker hub</a></li><li><a href=#ä½¿ç”¨éš¾åº¦>ä½¿ç”¨éš¾åº¦</a></li><li><a href=#é•œåƒå±‚æ•°>é•œåƒå±‚æ•°</a></li><li><a href=#é•œåƒçš„å¯è¿½æº¯æ€§>é•œåƒçš„å¯è¿½æº¯æ€§</a></li></ul></nav></div></div><div class=content id=content><h1 id=0x00-æœ€å¸¸è§çš„ä¸¤ç§æ„å»ºæ–¹å¼>0X00 æœ€å¸¸è§çš„ä¸¤ç§æ„å»ºæ–¹å¼</h1><p>æ„å»ºDockeré•œåƒçš„æ–¹å¼å¹¶ä¸å¤šï¼Œæœ€å¸¸ç”¨çš„ä¹Ÿå°±åªæœ‰ï¼šç¼–å†™Dockerfileå’Œä½¿ç”¨docker commitè¿™ä¸¤ç§ã€‚æ—¢ç„¶æ–¹å¼åˆ†ä¸ºä¸¤ç§é‚£ä¹ˆè‚¯å®šæ˜¯æœ‰åŒºåˆ«çš„ï¼ˆåºŸè¯ï¼‰ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹å§ã€‚</p><p>é¦–å…ˆæ¥ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ç§æ„å»ºæ–¹å¼ï¼Œå‡è®¾æ‰“ç®—ä½¿ç”¨dockeréƒ¨ç½²æˆ‘ä»¬çš„æœåŠ¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä½¿ç”¨ä¸¤ç§æ–¹å¼æ¥æ„å»ºä¸€ä¸‹è¿™ä¸ªé•œåƒå§ã€‚</p><h1 id=0x01-docker-commit>0X01 docker commit</h1><p>åƒæˆ‘ä»¬è¿™ç§æ–°æ‰‹å¹³æ—¶ç”¨çš„æ¯”è¾ƒå¤šçš„åº”è¯¥å°±æ˜¯<code>docker commit xxxxx hub.xxx.xxx/xxx:xxx</code>è¿™ç§æ–¹å¼äº†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<code>docker commit</code>ã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒå¥½æ“ä½œï¼Œæ¯”è¾ƒå¥½ç†è§£ï¼Œæ“ä½œä¹Ÿæ¯”è¾ƒå®¹æ˜“ã€‚å¦‚æœæŒæ¡äº†<code>git</code>çš„å·¥ä½œæµç¨‹ï¼Œé‚£ä¹ˆä½¿ç”¨<code>docker commit</code>æ–¹å¼æ¥æ„å»ºé•œåƒç®€ç›´æ˜¯å°èœä¸€ç¢Ÿã€‚</p><ol><li>æˆ‘ä»¬æä¸€ä¸ªåŸºç¡€é•œåƒæ¯”å¦‚<code>fedora</code>ï¼Œé‚£æˆ‘ä»¬æŠŠå®ƒæä¸‹æ¥ï¼š<code>docker pull fedora</code></li><li>è¿è¡Œå¹¶è¿›å…¥åˆ°å®¹å™¨é‡Œ<code>docker run --name our_container -it fedora /bin/bash</code>ï¼Œæ­¤æ—¶shellå·²ç»æ¥å…¥åˆ°å®¹å™¨é‡Œäº†</li><li>æˆ‘ä»¬æ¥å®‰è£…å§ <code>dnf install python3</code>ç„¶å<code>pip3 install Django</code> è¿™æ ·å°±è£…å¥½äº†ï¼Œå¯ä»¥é€€å‡ºdockeré‡Œçš„shelläº†</li><li><code>docker commit -m "å®‰è£…äº†Pythonå’ŒDjango" our_container our_image:latest</code>è¿™æ ·å°±å°†åˆšåˆšçš„å®¹å™¨æ‰“åŒ…æˆåä¸º<code>our_image</code>çš„é•œåƒäº†</li><li>ç°åœ¨ä½¿ç”¨<code>docker images</code>å°±å¯ä»¥çœ‹åˆ°åˆšåˆšæ‰“åŒ…çš„<code>our_image</code>äº†</li><li>åé¢å¦‚æœè¿˜éœ€è¦æ›´æ–°è¿™ä¸ªé•œåƒé‚£ä¹ˆå°±å¯ä»¥ç»§ç»­è¿è¡Œè¿™ä¸ª<code>docker run --name our_container -it our_image:latest</code>ç„¶åæ›´æ–°å®Œäº†å†<code>docker commit -m "balabalabala" our_container our_image:latest</code>æ‰“åŒ…ä¸€å±‚æ–°çš„ä¸Šå»å°±å¥½äº†</li></ol><h1 id=0x02-dockerfile>0X02 Dockerfile</h1><p>å¦ä¸€ç§å¸¸è§æ„å»ºé•œåƒçš„æ–¹å¼æ˜¯ç¼–å†™<code>Dockerfile</code>æ–‡ä»¶ï¼Œé€šè¿‡Dockerfileæ„å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚</p><ol><li>åˆ›å»ºä¸€ä¸ªåä¸º<code>Dockerfile</code>çš„æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹</li><li>åœ¨å½“å‰ç›®å½•æ‰§è¡Œ<code>docker build . -t our_image:latest</code>å°±å¯ä»¥äº†</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span>    FROM fedora<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    RUN dnf install python3<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    RUN pip3 install Django<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h1 id=0x03-å¯¹æ¯”ä¸¤ç§æ–¹æ³•>0X03 å¯¹æ¯”ä¸¤ç§æ–¹æ³•</h1><p>ä¸¤è€…çš„å¯¹æ¯”ä»ä¸‹é¢å‡ ä¸ªæ–¹é¢æ¥è¿›è¡Œ</p><h2 id=docker-hub>docker hub</h2><p>è¿™ä¸¤ç§æ–¹æ³•å…¶ä¸­<code>docker commit</code>æ–¹æ³•é€šå¸¸éœ€è¦ä½¿ç”¨ç§æœ‰<code>docker hub</code>ï¼Œè€Œ<code>Dockerfile</code>åˆ™å¯ä»¥ä¸ä½¿ç”¨ã€‚å› ä¸º<code>docker commit</code>å®Œæˆçš„é•œåƒå¦‚æœè¦åˆ†äº«ç»™å…¶ä»–äººçš„è¯æœ€æ–¹ä¾¿çš„é€”å¾„å°±æ˜¯èµ°<code>docker hub</code>ï¼ˆè‡ªå·±æ„å»ºå®Œpushåˆ°hubä¸Šï¼Œå…¶ä»–äººå†pullä¸‹æ¥ï¼‰ï¼Œè€Œ<code>Dockerfile</code>åªè¦ä¿è¯ä½¿ç”¨çš„æ˜¯å…¬å…±çš„åŸºç¡€é•œåƒé‚£ä¹ˆæ‰€æœ‰äººå°±éƒ½å¯ä»¥ç›´æ¥æ„å»ºå‡ºç›®æ ‡é•œåƒã€‚</p><blockquote><p>ä¹‹æ‰€ä»¥è¯´æ˜¯æœ€æ–¹ä¾¿ï¼Œæ˜¯å› ä¸ºè¿˜æœ‰ä¸€ç§<code>docker save</code>çš„æ–¹å¼å¯ä»¥æ‰“åŒ…é•œåƒæˆ<code>xxx.tar</code>ï¼Œåˆ«äººå†<code>docker load</code>ã€‚è¿™ç§æ–¹å¼è™½ç„¶èƒ½ç”¨ä½†æ˜¯å¾ˆéº»çƒ¦ï¼Œä¹Ÿä¸æ˜¯å¸¸è§„æ“ä½œ</p></blockquote><blockquote><p>docker é•œåƒå½“ç„¶å¯ä»¥ä¸Šä¼ åˆ°å…¬å…±çš„hubä¸Šï¼Œä½†æ˜¯å…¬å¸çš„å•†ä¸šå†…å®¹æ€•æ˜¯ä¸å…è®¸å‘¦</p></blockquote><h2 id=ä½¿ç”¨éš¾åº¦>ä½¿ç”¨éš¾åº¦</h2><p><code>docker commit</code>æ“ä½œç®€å•ï¼Œæ¯æ¬¡æ›´æ–°é•œåƒæ—¶æ¥å…¥åˆ°å®¹å™¨é‡Œä¸€æ³¢æ“ä½œæœ€å<code>docker commit xxxxx</code>å°è£…ä¸€ä¸‹å†ä½¿ç”¨<code>docker push</code>å°†é•œåƒæ¨åˆ°hubå°±å¯ä»¥äº†ã€‚åŸºæœ¬æ‰€æœ‰äººéƒ½å¯ä»¥å¾ˆå¿«ææ¸…æ¥šæµç¨‹å¹¶ä¸”å¼€å§‹ä¸Šæ‰‹ä½¿ç”¨ã€‚</p><p><code>Dockerfile</code>å°±æ˜¾å¾—éš¾äº†ä¸å°‘ï¼Œæ„å»ºå¤æ‚ä¸€ç‚¹çš„é•œåƒå¾€å¾€<code>Dockerfile</code>å°±å‡ åä¸Šç™¾è¡Œäº†ï¼Œå†ç®—ä¸Šé‡Œé¢åå¤šç§<code>Dockerfile</code>è¯­æ³•ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½èƒ½å¾ˆå¿«ä¸Šæ‰‹çš„ã€‚</p><h2 id=é•œåƒå±‚æ•°>é•œåƒå±‚æ•°</h2><p>ä¼—æ‰€å‘¨çŸ¥<strong>Dockeré•œåƒçš„æ¯æ¬¡commitéƒ½ä¼šåœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šæ–°å¢ä¸€å±‚</strong> ï¼ˆåæ­£ç°åœ¨ä½ è‚¯å®šçŸ¥é“äº†ï¼‰ï¼Œè€Œå±‚æ•°çš„å¢åŠ æ„å‘³ç€â€œé•œåƒä½“ç§¯è†¨èƒ€â€ã€‚å¦‚æœå†³å®šä½¿ç”¨<code>docker commit</code>çš„æ–¹å¼ç»´æŠ¤é•œåƒï¼Œé‚£ä¹ˆä¸å…åæœŸä¼šå¤§é‡é€šè¿‡commitæ¥æ›´æ–°é•œåƒä»è€Œå¯¼è‡´é•œåƒå±‚æ•°è¿‡å¤šï¼Œä½“ç§¯è¿‡å¤§ã€‚</p><p>è€Œ<code>Dockerfile</code>ä¸­çš„æ¯ä¸ªæŒ‡ä»¤ä¹Ÿéƒ½ä¼šä¸ºé•œåƒæ‘ä¸Šä¸€å±‚ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ¢è¡Œæ•´åˆçš„æ–¹å¼ä½¿ä¹‹ç¼©å°å¾ˆå¤šï¼Œæ¯”å¦‚å°†å†…å®¹å†™æˆä¸‹é¢è¿™ç§</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span>    RUN dnf install python3 gcc <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>&amp;&amp;</span> cat /data/our_hosts &gt; /etc/hosts <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>&amp;&amp;</span> cat /log/balabala.log | grep <span style=color:#e6db74>&#34;test&#34;</span> &gt; /data/test_group.log <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>&amp;&amp;</span> pip install Django <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#f92672>&amp;&amp;</span> django-admin startproject testproject<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>å°†æœ¬æ¥è¦å†™å¾ˆå¤šè¡Œçš„æ•´ç†åˆ°ä¸€ä¸ªå‘½ä»¤åé¢ï¼Œä»¥æ­¤æ¥ç¼©å‡é•œåƒå±‚æ•°</p><h2 id=é•œåƒçš„å¯è¿½æº¯æ€§>é•œåƒçš„å¯è¿½æº¯æ€§</h2><p><code>Dockerfile</code>æ¯”<code>docker commit</code>å…·æœ‰æ›´å¥½çš„å¯è¿½æº¯æ€§ã€‚æ‰€è°“çš„<strong>å¯è¿½æº¯æ€§</strong> å°±æ˜¯è¯´å¯ä»¥è¿½æº¯è¿™ä¸ªé•œåƒä»åŸºç¡€é•œåƒå¼€å§‹åˆ°æœ€æ–°çš„è¿™ä¸ªç‰ˆæœ¬éƒ½åšäº†ä»€ä¹ˆã€‚</p><p>å¦‚æœä½¿ç”¨<code>docker commit</code>çš„æ–¹å¼ç»´æŠ¤é•œåƒï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡commitæ—¶å€™çš„å¤‡æ³¨å’Œshellçš„å†å²è®°å½•æ¥è¿½æº¯ï¼Œä½†æ˜¯è¿™ä¸¤ç§æ–¹å¼éƒ½æ˜¯ä¸ç¡®å®šçš„ï¼Œè¿™æ ·æ—¶é—´é•¿ä¹…ä¸‹å»å°±ä¼šå¯¼è‡´<strong>ç¥–ä¼ é•œåƒ</strong> çš„å‡ºç°ã€‚æ‰€è°“ç¥–ä¼ é•œåƒå°±æ˜¯æŒ‡é‚£äº›â€œæˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªé•œåƒé‡Œéƒ½æ”¹è¿‡å“ªäº›é…ç½®ï¼Œè£…è¿‡å“ªäº›è½¯ä»¶å’Œç¬¬ä¸‰æ–¹åŒ…ï¼Œåæ­£è¿˜èƒ½ç”¨å°±å‡‘åˆç”¨æŠŠâ€çš„é•œåƒã€‚</p><p>å¦‚æœæ˜¯ä½¿ç”¨çš„<code>Dockerfile</code>é‚£ä¹ˆå°±å¾ˆå®¹æ˜“äº†ï¼Œæ„å»ºè¿™ä¸ªé•œåƒæ‰€ç»å†çš„æ‰€æœ‰æ‰€æœ‰æ­¥éª¤éƒ½æ¸…æ¸…æ¥šæ¥šå†™åœ¨<code>Dockerfile</code>é‡Œäº†ï¼Œå¯è¿½æº¯æ€§æ¯”<code>docker commit</code>é«˜åˆ°ä¸çŸ¥é“å“ªé‡Œå»äº†ã€‚</p><h1 id=0x04-ç²¾ç®€é•œåƒ>0X04 ç²¾ç®€é•œåƒ</h1><p>ç²¾ç®€é•œåƒå…¶å®åŸåˆ™å¾ˆç®€å•ï¼Œå°±æ˜¯<strong>åˆ é™¤ä¸ç”¨çš„ä¸œè¥¿ï¼Œå‡å°‘é•œåƒå±‚æ•°</strong> ã€‚é¦–å…ˆæ­£ç¡®ä½¿ç”¨<code>Dockerfile</code>å°±å¯ä»¥å¤§å¹…åº¦ç²¾ç®€é•œåƒäº†ï¼Œå…¶æ¬¡å°±æ˜¯åœ¨Dockerfileä¸­è®°å¾—æ¸…ç†ä¸€äº›æ— ç”¨çš„ä¸œè¥¿ã€‚</p><ol><li>æ¯”å¦‚ä½ è¦å†å®¹å™¨ä¸­ç¼–è¯‘å®‰è£…ä¸€ä¸ªCåº“ï¼Œé‚£ä¹ˆæœ€åæ˜¯ä¸æ˜¯<code>gcc</code>å°±ç”¨ä¸åˆ°äº†ï¼Ÿç”¨ä¸åˆ°äº†å°±å¸è½½æ‰ã€‚</li><li>æ¯æ¬¡<code>apt install & dnf install & pip install</code>æ˜¯ä¸æ˜¯è¦æœ‰ç¼“å­˜æ–‡ä»¶ï¼Ÿç”¨å®Œäº†å°±åˆ æ‰</li><li>ä»¥æ­¤ç±»æ¨ï¼Œå°†ç”¨ä¸åˆ°çš„å†…å®¹æ¸…ç†æ‰å°±è¡Œäº†</li></ol><p>æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹å°±æ˜¯é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„åŸºç¡€é•œåƒï¼Œé€šå¸¸æ¥è¯´æˆ‘ä»¬è‡ªå·±ä½¿ç”¨<code>ubuntu</code>æä¸€ä¸ªé•œåƒè£…ä¸Š<code>Python</code>å†æä¸Š<code>Django</code>(Pythonçš„ä¸€ä¸ªwebæ¡†æ¶)æ‰€æ„å»ºçš„é•œåƒä¸ä¼šæ¯”ç›´æ¥ç”¨<code>Django</code>çš„å®˜æ–¹åŸºç¡€é•œåƒæ›´å¥½ã€‚</p><h1 id=0x05-éœ€è¦æ³¨æ„>0X05 éœ€è¦æ³¨æ„</h1><p>æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼š</p><ol><li><code>docker image</code>æ˜¯æœ‰å±‚æ•°é™åˆ¶çš„ï¼Œç›®å‰æ˜¯127å±‚ï¼Œè¶…å‡ºçš„è¯å†commitæ˜¯ä¼šæŠ¥é”™çš„</li><li><code>docker build</code>å®é™…ä¸Šå°±æ˜¯è‡ªåŠ¨çš„<code>docker run/xxx/commit/stop/rm</code>å·¥ä½œæµ</li><li><code>docker build .</code>ä¸­çš„<code>.</code>çœ‹èµ·æ¥æ˜¯<code>Dockerfile</code>æ‰€åœ¨ä½ç½®ï¼Œå®é™…å¹¶ä¸æ˜¯ï¼Œè€Œæ˜¯â€œä¸Šä¸‹æ–‡ç¯å¢ƒâ€ã€‚å…·ä½“çš„å†…å®¹æ¯”è¾ƒå¤šï¼Œå¯ä»¥è‡ªè¡Œæœç´¢äº†è§£</li><li>æŒ‡å®š<code>Dockerfile</code>è¦ç”¨<code>docker buld -f xxx/xxx/xxx/hello .</code>ï¼Œå…¶ä¸­<code>xxx/xxx/xxx/hello</code>è¢«å½“ä½œ<code>Dockerfile</code></li></ol></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2025-01-16</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/docker/>Docker</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/posts/database-index-simple/ class=prev rel=prev title=å…³ç³»å‹æ•°æ®åº“ç´¢å¼•åˆæ­¥ä½¿ç”¨><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>å…³ç³»å‹æ•°æ®åº“ç´¢å¼•åˆæ­¥ä½¿ç”¨</a>
<a href=/posts/easy-redis/ class=next rel=next title=Rediså…¥é—¨ä½¿ç”¨ï¼šåˆ†åº“ã€è®¤è¯ä¸æŒä¹…åŒ–>Rediså…¥é—¨ä½¿ç”¨ï¼šåˆ†åº“ã€è®¤è¯ä¸æŒä¹…åŒ–<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=gitalk class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://github.com/gitalk/gitalk></a>Gitalk</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Shawn ğŸ’— Amber</div><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.152.2">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2015 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://blog.programmer.work target=_blank>Shawn</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/gitalk/gitalk.min.7a92033a32beba2a57cd417e2d5ab7ac2a45bf5111227648ac274b81e6a6cf57.css integrity="sha256-epIDOjK+uipXzUF+LVq3rCpFv1ERInZIrCdLgeamz1c="><link rel=stylesheet href=/lib/katex/katex.min.76e39bd605d45b2d1944123c66608b0c8bb9baeb70720b212571531c7cf9bc2a.css integrity="sha256-duOb1gXUWy0ZRBI8ZmCLDIu5uutwcgshJXFTHHz5vCo="><script type=text/javascript src=/lib/gitalk/gitalk.min.3e68fce688cb68f396c11b65309c267b307f420f01cef269e5e4f3bd769801f0.js integrity="sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.3d9120fa621da6d613c1698b7014ec6bdf4620366e8f2b7b547059f4b6f6272b.js integrity="sha256-PZEg+mIdptYTwWmLcBTsa99GIDZujyt7VHBZ9Lb2Jys="></script><script type=text/javascript src=/lib/clipboard/clipboard.min.e17a1d816e13c0826e0ed7febfabc3277f45571234bde0bf9120829a7169edc9.js integrity="sha256-4XodgW4TwIJuDtf+v6vDJ39FVxI0veC/kSCCmnFp7ck="></script><script type=text/javascript src=/lib/katex/katex.min.eb18207487161674e717087c317db14ac1a62dadaecccb802499ce173bfeb739.js integrity="sha256-6xggdIcWFnTnFwh8MX2xSsGmLa2uzMuAJJnOFzv+tzk="></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.cb7f4ca60ed5dc3e258415f8c7a3b46d4a93578a52adf83011f18a7f190e7602.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.52ce78fab4860d24ef22128a52ce24ca01368a9034457a565a1d3fccbab0ddbb.js integrity="sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.5c0a121a8b490afc85860a522347aeb34fb508c6b23044e5d29f6b2194227b51.js integrity="sha256-XAoSGotJCvyFhgpSI0eus0+1CMayMETl0p9rIZQie1E="></script><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:50},comment:{gitalk:{admin:["shawn-bluce"],clientID:"Ov23ligzD7mU8WBsue6H",clientSecret:"a832d1ba967e3a40f5485aa05e2a9e76f2d77901",id:"2019-09-17T13:59:00Z",owner:"shawn-bluce",repo:"shawn-bluce.github.io",title:"æ­£ç¡®æ„å»º Docker é•œåƒ"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.612a51a43205bbcf3b4af348dc2e8aa60f77f4fe5535ebc57f13054b61607d6c.js integrity="sha256-YSpRpDIFu887SvNI3C6Kpg939P5VNevFfxMFS2FgfWw="></script></body></html>