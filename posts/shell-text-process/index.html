<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Shell 中的文本处理【简】 - Shawn's blog</title><meta name=Description content="分享我的知识、经验、生活与感悟"><meta property="og:url" content="https://blog.programmer.work/posts/shell-text-process/"><meta property="og:site_name" content="Shawn's blog"><meta property="og:title" content="Shell 中的文本处理【简】"><meta property="og:description" content="0X00 前言 在这里介绍 Shell 脚本编程和日常的命令行操作中最常用的 9 个命令，希望对读到这篇文章的你有所帮助～
这是一篇基础得不能再基础的内容，如果你看完还能有两三个收获的话，那就一起来恶补 Linux 知识吧🤣"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-11T13:10:00+00:00"><meta property="article:modified_time" content="2025-03-04T08:53:31+00:00"><meta property="article:tag" content="Shell"><meta property="article:tag" content="Linux"><meta property="og:image" content="https://blog.programmer.work/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.programmer.work/logo.png"><meta name=twitter:title content="Shell 中的文本处理【简】"><meta name=twitter:description content="0X00 前言 在这里介绍 Shell 脚本编程和日常的命令行操作中最常用的 9 个命令，希望对读到这篇文章的你有所帮助～
这是一篇基础得不能再基础的内容，如果你看完还能有两三个收获的话，那就一起来恶补 Linux 知识吧🤣"><meta name=application-name content="Shawn's blog"><meta name=apple-mobile-web-app-title content="Shawn's blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.programmer.work/posts/shell-text-process/><link rel=prev href=https://blog.programmer.work/posts/about-sudo/><link rel=next href=https://blog.programmer.work/posts/git-tips/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Shell 中的文本处理【简】","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.programmer.work\/posts\/shell-text-process\/"},"genre":"posts","keywords":"Shell, Linux","wordcount":1910,"url":"https:\/\/blog.programmer.work\/posts\/shell-text-process\/","datePublished":"2023-07-11T13:10:00+00:00","dateModified":"2025-03-04T08:53:31+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Shawn"},"description":""}</script></head><body data-header-desktop=auto data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Shawn's blog">Shawn's blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Shawn's blog">Shawn's blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/about/ title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Shell 中的文本处理【简】</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://blog.programmer.work title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Shawn</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-07-11>2023-07-11</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 1910 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 4 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents></nav></div></div><div class=content id=content><h1 id=0x00-前言>0X00 前言</h1><p>在这里介绍 Shell 脚本编程和日常的命令行操作中最常用的 9 个命令，希望对读到这篇文章的你有所帮助～</p><blockquote><p>这是一篇基础得不能再基础的内容，如果你看完还能有两三个收获的话，那就一起来恶补 Linux 知识吧🤣</p></blockquote><h1 id=0x01-cat>0X01 cat</h1><p><code>cat</code> 命令应该是学习 Linux 命令时候最早接触到的命令之一了，自然不用多说什么，这里只提一个用法：如何 <code>cat</code> 命令创建一个文件。例如在脚本中我们需要创建一个配置文件，当然可以把配置文件跟脚本文件放一起，然后 <code>cp</code> 过去，但是如果你想用一个文件搞定的话（这样在看脚本的时候就知道配置文件是什么内容了，看着舒服改起来也方便）就可以这么操作</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>    cat <span style=color:#e6db74>&lt;&lt; EOF &gt; xxx.conf
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    [main]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        var = 123
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        var = 123
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    EOF</span>
</span></span></code></pre></div><p>这段命令写在 shell 脚本中就意味着会把两个 EOF 中间行的内容作为文件 cat 一下，再接上后面的重定向，就把它写入到 <code>xxx.conf</code> 中了。不仅可以在脚本中，直接写在命令行中也是可以的。当然也可以不带重定向使用。</p><p>这里有一篇<a href=https://www.ruanyifeng.com/blog/2011/11/eof.html target=_blank rel="noopener noreffer">阮一峰的文章</a>在相对详细的介绍什么是 EOF。</p><blockquote><p>需要注意的是 <code>EOF</code> 只是我们约定俗成的 <code>Enf Of File</code> 的缩写，你非要用别的表示也是可以的（比如你的文本中包含 <code>EOF</code> 的话就有必要改用别的）</p></blockquote><h1 id=0x02-echo>0X02 echo</h1><p><code>echo</code> 命令用起来比 <code>cat</code> 还要更简单，只需要介绍三个简单的参数</p><ul><li><code>echo -n</code> 不输出尾部换行符</li><li><code>echo -e</code> 启用反斜杠转义</li><li><code>echo -E</code> 禁用反斜杠转义（Debian 默认是禁用的）</li></ul><h1 id=0x03-printf>0X03 printf</h1><p><code>printf</code> 是一个类似于 <code>echo</code> 但是比 <code>echo</code> 用法更细致的命令，非常类似于 C 里面的 <code>printf</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>    printf <span style=color:#e6db74>&#34;hello, world\n&#34;</span> <span style=color:#75715e># 会有转义</span>
</span></span><span style=display:flex><span>    printf <span style=color:#e6db74>&#34;%-10s&#34;</span> xxxxx    <span style=color:#75715e># 会输出内容并且长度不足 10 的用空格填充，左对齐</span>
</span></span><span style=display:flex><span>    printf <span style=color:#e6db74>&#34;%10s&#34;</span> yyy       <span style=color:#75715e># 同上，右对齐</span>
</span></span><span style=display:flex><span>    printf <span style=color:#e6db74>&#34;%-4.2f&#34;</span> 12.345  <span style=color:#75715e># 与 C 的用法一致</span>
</span></span><span style=display:flex><span>    printf <span style=color:#e6db74>&#34;%4d&#34;</span> <span style=color:#ae81ff>12</span>         <span style=color:#75715e># 与 C 的用法一致</span>
</span></span></code></pre></div><h1 id=0x04-headtail>0X04 head/tail</h1><p><code>head/tail</code> 这两个命令最主要的用法就是 <code>-n</code> 参数，例如看某个文件的前 10 行可以用 <code>head filename -n 10</code>，末尾 3 行就是 <code>tail filename -n 3</code>，串起来也可以用 <code>cat xxx file | head -n 30 | tail -n 10</code> 就看到这个文件的 21 到 30 行了。</p><p>其中 <code>tail</code> 命令还有一个常用的参数是 <code>-f</code>，它意味着当读到文件末尾的时候不会停止，而是继续等待新内容。例如有一个源源不断产生新内容的日志文件 <code>operation.log</code>，我们可以 <code>tail -f operation.log</code> 来监控它，每当有新内容写进去的时候都会第一时间输出出来。</p><p>另外 <code>tail -f</code> 还可以同时监控多个文件，例如 <code>tail -f aaa.log bbb.log ccc.log</code>，不仅会实时监控文件中追加的新内容，还会用类似下面这种的方式区分开来</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>    ❯ tail -f aaa bbb ccc
</span></span><span style=display:flex><span>    <span style=color:#f92672>==</span>&gt; aaa &lt;<span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>==</span>&gt; bbb &lt;<span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>==</span>&gt; ccc &lt;<span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>==</span>&gt; aaa &lt;<span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>    aaa
</span></span><span style=display:flex><span>    aaa
</span></span><span style=display:flex><span>    aaa
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>==</span>&gt; bbb &lt;<span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>    bbb
</span></span><span style=display:flex><span>    bbb
</span></span></code></pre></div><h1 id=0x05-wc>0X05 wc</h1><p><code>wc</code> 命令的是用来计数的，可以以 bytes/chars/lines/words 来统计。例如 <code>wc -l filename</code> 就是检查这个文本文件总共有多少行，<code>wc -c</code> 是多少个字节，<code>-m</code> 是多少个字符&mldr;&mldr;</p><p>通常用的最多的就是数行数了</p><h1 id=0x06-grep>0X06 grep</h1><p>关于 <code>grep</code> 是没办法在这里讲清楚的，只能简单介绍几个基本用法，这里挖个坑，后面争取写一个关于 Linux 文本三剑客的文章介绍一下它们的用法。</p><p><code>grep</code> 是从文本中查找子字符串的命令，最常用的用法就是 <code>cat filename | grep xxxx</code> 这种查找文件中内容的用法了，这里简单介绍几个常用的用法</p><ul><li><code>grep xxx -A 3</code> 其中的 <code>-A 3</code> 就是 <code>after 3 line</code> 的意思，也就是说顺带输出找到的内容的后面三行</li><li><code>grep xxx -B 3</code> 同理，就是 <code>before 3 line</code></li><li><code>grep xxx -C 3</code> 同理，哦不对没法同理。这里的 <code>-C</code> 有点像是玩梗，既然 <code>AB</code> 都有了那顺便也搞了个 C，这里的 <code>-C 3</code> 意思和 <code>-A 3 -B 3</code> 相同，意味着同时输出前后三行</li><li><code>grep -Rn xxx .</code> 从当前路径递归查找含有 xxx 的行，并且同时输出该行所在的文件和行号（通常在代码库中查找代码会用到）</li></ul><p><a href=https://grep.js.org/ target=_blank rel="noopener noreffer">https://grep.js.org/</a> 是一个在线 grep 工具，方便你练习 grep 命令</p><h1 id=0x07-awk>0X07 awk</h1><p>同上，<code>awk</code>也是所谓文本三剑客中的一员，这里只是简单介绍一下最基础的用法</p><p><code>awk</code> 是将一个文本内容逐行拆分的命令，<code>ls -l</code> 可以看到文件的详细信息，用 <code>awk</code> 可以=将其中的某一列提取出来，例如提取文件所属人 <code>ls -l | awk -F ' ' '{print $3}'</code> 就可以了。其中 <code>awk</code> 命令的参数分成两部分，前半部分是 <code>-F ' '</code> 意味着我要指定一个分隔符，这个分隔符是空格；后半段是 <code>{print $3}</code> 意味着我要打印出第三段来（也就是文件所属人的这一列）</p><p><a href=https://awk.js.org/ target=_blank rel="noopener noreffer">https://awk.js.org/</a> 是一个在线 awk 工具，方便你练习 awk 命令</p><h1 id=0x08-sed>0X08 sed</h1><p>继续同上，<code>sed</code>也是三剑客中的一员，这里简单介绍</p><p><code>sed</code> 是一个修改文本内容的命令，具体的修改方法跟 <code>vim</code> 的替换内容很像，下面列举几个常常见的用法</p><ul><li><code>sed "s/hello/world/g" filename</code> 将这个文件中的 hello 替换为 world 并打印出来（不修改）</li><li><code>sed -i "s/hello/world/g" filename</code> 只是多了个 <code>-i</code> 参数，从打印不修改原文变成了修改原文但不打印</li><li><code>sed -i "s/hello/world/" filename</code> 去掉了 <code>g</code> 就是<strong>每行</strong> 只替换一处</li></ul><p><a href=https://sed.js.org/ target=_blank rel="noopener noreffer">https://sed.js.org/</a> 是一个在线 sed 工具，方便你练习 sed 命令</p><blockquote><p>grep 是 1973 被开发出来的, sed 是 1974, awk 是 1977，这也是为什么如今大家还会推荐新人学习命令行工具，因为这些命令行工具学一次真的能用一生</p></blockquote><h1 id=0x09-xargs>0X09 xargs</h1><p>关于 <code>xargs</code> 我也打算单独写一个文章来介绍。哦不对，不用打算，<a href=__GHOST_URL__/2022/12/27/xargs/ rel>我已经写了</a>🥹</p><h1 id=0x10-最后>0X10 最后</h1><p>Linux 下每个命令都有很多参数，即使是 <code>head</code> 这种看起来很简单的命令都有 5 个参数，<code>tail</code> 就更多了，后面的 <code>grep/awk/sed</code> 三剑客几乎都是可以单独写本书的水平。所以建议没事的时候可以看看 <code>man</code> 的文档，不一定要记住都有哪些参数具体怎么用，但是多看一看就会对其中一些用法有印象，下次再用到的时候起码知道哪个命令能用。具体怎么用再来看文档就好了～</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2025-03-04</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/shell/>Shell</a>,&nbsp;<a href=/tags/linux/>Linux</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/about-sudo/ class=prev rel=prev title="关于 sudo 命令也许你需要知道的"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>关于 sudo 命令也许你需要知道的</a>
<a href=/posts/git-tips/ class=next rel=next title="写给 git 新手的 6 个小技巧">写给 git 新手的 6 个小技巧<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=gitalk class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://github.com/gitalk/gitalk></a>Gitalk</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.152.2">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2015 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://blog.programmer.work target=_blank>Shawn</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/gitalk/gitalk.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><script type=text/javascript src=/lib/gitalk/gitalk.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.js></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{gitalk:{admin:["shawn-bluce"],clientID:"Ov23ligzD7mU8WBsue6H",clientSecret:"a832d1ba967e3a40f5485aa05e2a9e76f2d77901",id:"2023-07-11T13:10:00Z",owner:"shawn-bluce",repo:"Blog Comments",title:"Shell 中的文本处理【简】"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>